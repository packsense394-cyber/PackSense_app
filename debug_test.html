
<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Test for 'label'</h1>
    
    <script>
        // Simulate the data that would be passed to the template
        const keywordSentenceMap = {"label": [{"sentence": "The oxi kind with the orange on the label is my other favorite..", "review_text": "I used to use all of the expensive, mediocre, \u201ctrendy\u201d detergents that smell decent, but they really did not clean well at all. After years of struggling using those, I finally thought I\u2019d figured out a combination of products that worked, even though it has been SO expensive and time-consuming, even just to order the products and have them all at hand. I had heard about how amazing person was years and years ago, but I just brushed it off and could not believe that something so cheap could work so well. Lo and behold, my \u201cfavorite\u201d detergent is out of stock everywhere so I finally, FINALLY tried Persil.\n\nWell, I am ashamed that I was so wasteful and I wish now that I had discovered for myself how amazing Persil detergent is so long ago. This particular one is my absolute favorite scented laundry detergent there is, and this stuff actually works! The oxi kind with the orange on the label is my other favorite.. but seriously\u2026it just blows my mind!!!\n\ntry it if you\u2019re on the fence, it\u2019s so inexpensive compared to products that don\u2019t do half of what this stuff does. Liquid gold.", "review_title": "Wish I had tried Persil SO much sooner!!!", "review_index": 1}, {"sentence": "Look closely at THIS label compared with the ones at local stores.", "review_text": "Takes so little per wash. This is NOT what I\u2019ve found in the grocery stores. This is the far more concentrated one and takes far less for a large load of wash. Look closely at THIS label compared with the ones at local stores. This one appears to be different. I\u2019ve purchased from Amazon twice because of this.", "review_title": "Outstanding product", "review_index": 2}, {"sentence": "Box had a label that said damaged when received by carrier.", "review_text": "Product is my favorite and does a great job on heavily soiled clothes. My recent order leaked all over the box. What mess! Box had a label that said damaged when received by carrier. It has a leak guard around the top but the leak broke down its purpose.it happens. A full refund is not necessary but I was told to mail back the product. Why would anyone mail Bk something that leaks.?! They can keep the refund. I am done.", "review_title": "Great product but...", "review_index": 3}, {"sentence": "The level was down to the \"110\" label.", "review_text": "My recent purchase was disappointing as the bottles were not full as shown in the pictute. The level was down to the \"110\" label. I didn't think my previous bottle gave me 110 washes using the lowest amt recommended, but am not positive. I do think it is a good detergent, but at $22 a bottle, they should be full.", "review_title": "Good detergent, Bottles not full", "review_index": 4}, {"sentence": "The container came with no label on it.", "review_text": "The container came with no label on it. I have no way to tell if it's even the right detergent.", "review_title": "No label", "review_index": 5}]};
        const keywordImageMap = {"label": ["Dawn_K_review0_0.jpg", "Vanns40_review1_0.jpg", "Maime_review2_0.jpg"]};
        
        console.log('Keyword sentence map:', keywordSentenceMap);
        console.log('Keyword image map:', keywordImageMap);
        
        // Test the same logic as in the template
        const nodeName = 'label';
        let relatedReviews = keywordSentenceMap[nodeName] || [];
        
        console.log('Node name:', nodeName);
        console.log('Related reviews:', relatedReviews);
        console.log('Related reviews length:', relatedReviews.length);
        
        // Extract sentence text
        let relatedSentences = [];
        if (relatedReviews.length > 0) {
            if (typeof relatedReviews[0] === 'object' && relatedReviews[0].sentence) {
                relatedSentences = relatedReviews.map(item => item.sentence);
            } else {
                relatedSentences = relatedReviews;
            }
        }
        
        console.log('Related sentences:', relatedSentences);
        console.log('Related sentences length:', relatedSentences.length);
        
        // Test images
        let relatedImages = keywordImageMap[nodeName] || [];
        console.log('Related images:', relatedImages);
        console.log('Related images length:', relatedImages.length);
        
        // Display results
        document.body.innerHTML += `
            <h2>Results for 'label'</h2>
            <p><strong>Sentences found:</strong> ${relatedSentences.length}</p>
            <p><strong>Images found:</strong> ${relatedImages.length}</p>
            
            <h3>Sample Sentences:</h3>
            <ul>
                ${relatedSentences.slice(0, 3).map(s => `<li>${s}</li>`).join('')}
            </ul>
            
            <h3>Sample Images:</h3>
            <ul>
                ${relatedImages.slice(0, 3).map(img => `<li>${img}</li>`).join('')}
            </ul>
        `;
    </script>
</body>
</html>
            